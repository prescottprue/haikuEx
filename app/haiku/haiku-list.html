<div layout-padding layout="row" layout-align="center center">
  <div flex="85" flex-sm="100">
    <md-whiteframe class="md-whiteframe-z1" layout="row" layout-align="center center">
      <div flex="100">
        <md-list >
          <md-list-item class="md-3-line haiku-item" layout="column" layout-sm="column" layout-fill  layout-align="center center" ng-repeat="haiku in haikuList" layout-padding>
            <div layout="row" layout-md="column" layout-sm="column" layout-fill layout-padding layout-align="center start">
                <!-- Image and text -->
              <div class="haiku-media" layout="row" flex="55" flex-md="80" flex-sm="95" layout-align="center center" layout-fill>
                  <!-- Image -->
                  <div class="entity-image-wrapper" layout-fill>
                    <img class="entity-image" ng-style="style()" ng-src="{{haiku.entities[0].images[0]}}" alt="{{haiku.entities[0].entityId}}"/>
                  </div>
                  <!-- Text Box -->
                  <div class="md-whiteframe-z2 haiku-text-box" layout="row" layout-padding layout-align="center center">
                    <div class="md-list-item-text" layout-margin layout-align="center center" style="display:inline-block;">
                      <div ng-repeat="line in haiku.content.split('\n')" layout-align="center center">
                        <span class="haiku-line" >
                          {{line}}
                        </span></br>
                      </div>
                    </div>
                  </div>
              </div>
              <div layout="column" layout-md="row" layout-sm="row" class="haiku-details" layout-padding layout-fill layout-align="center center">
                <div layout="column" layout-margin layout-padding layout-fill layout-align="center center" >
                  <span class="detail-label">
                    Sentiment
                  </span></br>
                  <div class="sentiment" flex layout-align="center center">
                    <i class="fa fa-frown-o" ng-if="!showSmiley(haiku.sentiment.confidence)"></i>
                    <i class="fa fa-smile-o" ng-if="showSmiley(haiku.sentiment.confidence)"></i>

            <md-progress-linear md-mode="buffer" ng-if="showSmiley(haiku.sentiment.confidence)" value="{{ haiku.sentiment.confidence }}" md-buffer-value="{{ parseInt(haiku.sentiment.confidence) }}"></md-progress-linear>
            <md-progress-linear md-mode="buffer" class="md-warn" ng-if="!showSmiley(haiku.sentiment.confidence)" value="{{ haiku.sentiment.confidence }}" md-buffer-value="{{ parseInt(haiku.sentiment.confidence) }}"></md-progress-linear>
                  </div>
                </div>
                <div layout="column" layout-margin layout-padding layout-fill layout-align="center center" style="margin-top:40px;">
                  <span class="detail-label">
                    Tags
                  </span>
                  <div layout="row" layout-sm="column" layout-margin style="margin-top:40px;">
                    <md-chips ng-model="haiku.entityIds" readonly="true">
                      <md-chip-template class="tag-chip">
                        <strong class="tag-chip-label">{{$chip}}</strong>
                        <!-- <em>(fruit)</em> -->
                      </md-chip-template>
                    </md-chips>
                  </div>
                </div>
              </div>
            </div>
            <md-divider ng-if="!$last"></md-divider>
          </md-list-item>
        </md-list>
      </div>
    </md-whiteframe>
  </div>
</div>
